# LoadZone: Система управления виртуальными машинами

LoadZone - веб-приложение для управления виртуальными машинами (VM) с функциями бронирования, группировки и автоматического контроля времени использования. Система обеспечивает централизованное управление VM через интуитивный веб-интерфейс.

## Архитектура

### Бэкенд (Python)

 * **Фреймворк**: Flask

 * **Библиотеки**:

   * Flask-SocketIO для уведомлений
   * APScheduler для планирования задач

 * **Хранение данных**: JSON-файл (`data.json`)

### Фронтенд

 * Чистый HTML/CSS/JavaScript
 * Адаптивный дизайн с поддержкой темной/светлой темы
 * WebSocket для реального времени

### Модель данных

```json
{
  "vms": [],       // Виртуальные машины
  "groups": [],    // Группы VM
  "users": {}      // Пользователи и история броней
}
```

## Ключевые особенности

1. Авторизация по email (без паролей)
2. Автоматическое освобождение VM по расписанию
3. Уведомления за 1 час до истечения брони
4. Группировка VM для организации инфраструктуры
5. История бронирований для аудита
6. Темная/светлая темы интерфейса

## Установка

### Требования

* Python 3.7+
* Зависимости: `flask`, `flask-socketio`, `apscheduler`

### Инструкция

1. Созадйте виртуальное окружение:

```bash
python -m venv venv
source venv/bin/activate  # Linux/MacOS
venv\Scripts\activate     # Windows
```

2. Установите зависимости:

```bash
pip install -r requirements.txt
```

3. Запустите приложение:

```bash
python app.py
```

4. Откройте в браузере: `http://localhost:5000`

## Эксплуатация

### Основные функции

| Функция             | Описание                                     |
|---------------------|----------------------------------------------|
| Авторизация         | Ввод email для доступа к системе             |
| Бронирование VM     | Выбор VM и времени использования (1-24 часа) |
| Продление брони     | Увеличение времени аренды VM                 |
| Управление группами | Создание групп и распределение VM            |
| Добавление VM       | Регистрация новых виртуальных машин          |

### Уведомления

Система генерирует уведомления при:

 * Создании групп/добавлении VM
 * Бронировании/продлении VM
 * За 1 час до истечения брони
 * Автоматическом освобождении VM

## Структура данных

### Виртуальная машина

```json
{
  "id": "string",          // Уникальный идентификатор
  "group": "number|null",  // Группа
  "booked_by": "string|null", // Пользователь
  "expires_at": "ISO string|null" // Время освобождения
}
```

### Группа

```json
{
  "id": "number",         // ID группы
  "name": "string",       // Название
  "vm_ids": ["string"]    // VM в группе
}
```

### Пользователь

```json
{
  "created": "ISO string", // Дата регистрации
  "bookings": [            // История действий
    {
      "vm_id": "string",   // ID VM
      "start": "ISO string", // Начало
      "end": "ISO string|null", // Окончание
      "action": "book|renew|release" // Тип операции
    }
  ]
}
```
